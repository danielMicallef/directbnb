{% extends "base.html" %}
{% load static %}

{% block title %}Create Your Website - {{ site_name }}{% endblock %}
{% block navbar%} {% endblock %}
{% block content %}
<div class="conatiner mt-6">
    <div class="max-w-4xl mx-auto" x-data="wizardData()">
        <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
                <!-- Header -->
                <div class="mb-6">
                    <h2 class="card-title text-2xl">Create Your Direct Booking Website</h2>
                    <p class="text-base-content/60 mt-2">Step {{ step }} of {{ total_steps }}</p>

                    <!-- Progress Bar -->
                    <div class="w-full bg-base-300 rounded-full h-3 mt-4">
                        <div
                            class="bg-primary h-3 rounded-full transition-all duration-300"
                            :style="`width: ${({{ step }} / {{ total_steps }}) * 100}%`"
                        ></div>
                    </div>
                </div>

                <!-- Wizard Content -->
                <div
                    id="wizard-content"
                    hx-target="this"
                    hx-swap="innerHTML"
                >
                    {% include 'builder/wizard_step_partial.html' %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function wizardData() {
    return {
        step: {{ step }},
        totalSteps: {{ total_steps }},
    }
}

// Auto-dismiss messages
document.addEventListener('DOMContentLoaded', () => {
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(alert => {
        setTimeout(() => {
            alert.style.opacity = '0';
            setTimeout(() => alert.remove(), 500);
        }, 5000);
    });
});
</script>

{% endblock %}
