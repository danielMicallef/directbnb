---
import Layout from '../layouts/Layout.astro';

// TODO: Replace with actual property contact info
const contactInfo = {
  email: "contact@mountainretreat.com",
  phone: "+1 (555) 123-4567",
  location: "Mountain Region, Paradise Valley"
};
---

<Layout title="Contact Us - Mountain Retreat">
  <!-- Header -->
  <div class="relative h-[40vh] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-b from-black/50 to-black/70 z-10"></div>
    <img
      src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=1600"
      alt="Contact Us"
      class="absolute inset-0 w-full h-full object-cover"
    />
    <div class="relative z-20 text-center text-white px-4">
      <h1 class="text-5xl md:text-6xl font-bold mb-4">Get in Touch</h1>
      <p class="text-xl text-gray-200">We'd love to hear from you</p>
    </div>
  </div>

  <!-- Contact Section -->
  <section class="py-16 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-12">
        <!-- Contact Information -->
        <div>
          <h2 class="text-3xl font-bold mb-6">Contact Information</h2>
          <p class="text-lg opacity-75 mb-8">
            Have questions about booking or need more information? 
            We're here to help make your stay perfect.
          </p>

          <div class="space-y-6">
            <!-- Email -->
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">Email</h3>
                <a href={`mailto:${contactInfo.email}`} class="text-primary hover:underline">
                  {contactInfo.email}
                </a>
              </div>
            </div>

            <!-- Phone -->
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">Phone</h3>
                <a href={`tel:${contactInfo.phone.replace(/\s/g, '')}`} class="text-primary hover:underline">
                  {contactInfo.phone}
                </a>
              </div>
            </div>

            <!-- Location -->
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">Location</h3>
                <p class="opacity-75">{contactInfo.location}</p>
              </div>
            </div>
          </div>

          <!-- Response Time Info -->
          <div class="mt-12 p-6 bg-primary/10 rounded-xl">
            <h3 class="font-semibold text-lg mb-2">Response Time</h3>
            <p class="opacity-75">
              We typically respond to all inquiries within 24 hours. 
              For urgent matters, please call us directly.
            </p>
          </div>
        </div>

        <!-- Contact Form -->
        <div>
          <!-- Success Alert (hidden by default, shown via JS) -->
          <div id="success-alert" class="alert alert-success mb-6 hidden">
            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Thank you for your message! We'll get back to you soon.</span>
          </div>

          <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
              <h2 class="card-title text-2xl mb-4">Send Us a Message</h2>
              
              <form id="contact-form" class="space-y-6">
                <!-- Name -->
                <div class="form-control">
                  <label class="label">
                    <span class="label-text">Your Name *</span>
                  </label>
                  <input 
                    type="text" 
                    name="name"
                    placeholder="John Doe" 
                    class="input input-bordered" 
                    required 
                  />
                </div>

                <!-- Email -->
                <div class="form-control">
                  <label class="label">
                    <span class="label-text">Email Address *</span>
                  </label>
                  <input 
                    type="email" 
                    name="email"
                    placeholder="john@example.com" 
                    class="input input-bordered" 
                    required 
                  />
                </div>

                <!-- Message -->
                <div class="form-control">
                  <label class="label">
                    <span class="label-text">Your Message *</span>
                  </label>
                  <textarea 
                    name="message"
                    class="textarea textarea-bordered h-40" 
                    placeholder="Tell us how we can help..."
                    required
                  ></textarea>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary w-full">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                  </svg>
                  Send Message
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const successAlert = document.getElementById('success-alert');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(form);
    const data = {
      name: formData.get('name'),
      email: formData.get('email'),
      message: formData.get('message')
    };

    // TODO: Replace with actual API endpoint
    console.log('Form submitted:', data);
    
    // Simulate API call
    await new Promise(resolve => setTimeout(resolve, 500));
    
    // Show success message
    successAlert?.classList.remove('hidden');
    form.reset();
    
    // Scroll to alert
    successAlert?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    
    // Hide alert after 5 seconds
    setTimeout(() => {
      successAlert?.classList.add('hidden');
    }, 5000);
  });
</script>
